# `z85rot.cpp`: Image Encoding and Decoding with Rotation and Base85 Encoding

This C++ program provides functionality to encode and decode image data using a combination of Base85 encoding and a custom rotation algorithm. It's designed for command-line use to transform image files.

## Functionality

The program performs two primary operations:

1.  **Encoding**: Takes an input image file (specifically, it appears to handle P6 Netpbm format) and encodes its pixel data. This process involves:
    *   Reading image dimensions (width, height) and pixel data.
    *   Converting the raw pixel data into a Base85 representation.
    *   Applying a custom rotation algorithm to the Base85 string based on a provided numerical key `N`.
    *   Writing the encoded and rotated string to an output file.
2.  **Decoding**: Takes an encoded file (generated by this program) and decodes it back into an image file. This process involves:
    *   Reading the encoded text and image dimensions.
    *   Applying the inverse of the custom rotation algorithm using the same numerical key `N` used during encoding.
    *   Converting the Base85 string back into raw pixel data.
    *   Writing the decoded pixel data to an output image file in P6 Netpbm format.

## Supported Features

*   **Base85 Encoding/Decoding**: Converts 32-bit integer values (representing 4 bytes of image data) to and from a Base85 string representation.
*   **Custom Rotation Algorithm**: Implements a character-based rotation that shifts characters within a defined 85-character alphabet based on their position and a numerical key `N`. This rotation is reversible for decoding.
*   **Command-Line Interface (CLI)**: The program is designed to be executed from the command line with specific arguments for encoding or decoding, input/output files, and the rotation key.

## Usage

The program is executed from the command line with the following syntax:

```bash
./z85rot <mode> <N> <input_file> <output_file>
```

### Arguments:

*   `<mode>`: Specifies the operation to perform.
    *   `c`: For encoding (compressing) an image.
    *   `d`: For decoding an image.
*   `<N>`: An integer value used as the rotation key for the encoding/decoding process. This value must be the same for both encoding and decoding to ensure correct transformation.
*   `<input_file>`: The path to the input image file (for encoding) or the encoded text file (for decoding).
*   `<output_file>`: The path where the output encoded text (for encoding) or decoded image (for decoding) will be saved.

### Examples

**1. Encoding an image:**

To encode an image named `input.pbm` with a rotation key of `123` and save the output to `encoded.txt`:

```bash
./z85rot c 123 input.pbm encoded.txt
```

**2. Decoding an image:**

To decode the `encoded.txt` file using the same rotation key `123` and save the original image to `output.pbm`:

```bash
./z85rot d 123 encoded.txt output.pbm
```
